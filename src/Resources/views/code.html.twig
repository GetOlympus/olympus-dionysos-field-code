{% extends template_path %}

{% block id %}{{ identifier }}{% endblock %}
{% block label %}<label for="{{ identifier }}">{{ title|raw }}</label>{% endblock %}

{% block field %}
    <div class="dionysos-field code">
        <textarea name="{{ name }}" id="{{ identifier }}" rows="{{ rows }}"{{ readonly ? ' readonly' : '' }} class="content sync-input" hidden>{{ value }}</textarea>

        <script>
            (function($) {
                $(document).ready(function() {
                    wp.codeEditor.initialize($('#{{ identifier }}'), {{ code_editor|json_encode|replace({"'": "&#39;"})|raw }});
                });
            })(jQuery);
        </script>
    </div>
{% endblock %}

{% block description %}
    {{ description|raw }}
{% endblock %}
